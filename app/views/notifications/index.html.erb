<div class="max-w-2xl mx-auto pt-6">

  <h1 class="text-2xl font-bold mb-6">Notifications</h1>

  <% if @notifications.empty? %>
    <p class="text-gray-500 text-center">No notifications yet.</p>
  <% end %>

  <% @notifications.each do |n| %>
    <div class="flex items-start gap-3 bg-white p-4 rounded-lg shadow mb-3">

      <!-- Actor Avatar -->
      <%= user_avatar(n.actor, size: 40) %>

      <div class="flex-1">
        <p class="leading-tight">
          <strong><%= n.actor.username %></strong>
          <span class="text-gray-700"><%= n.action %></span>

          <% if n.notifiable.is_a?(Pin) %>
            <%= link_to "View Post",
              pin_path(n.notifiable),
              class: "text-blue-600 underline ml-1" %>

          <% elsif n.notifiable.is_a?(Comment) %>
            <!-- pass comment_id so pins#show can auto-scroll to it -->
            <%= link_to "View Comment",
              pin_path(n.notifiable.pin_id, comment_id: n.notifiable.id),
              class: "text-blue-600 underline ml-1" %>

          <% elsif n.notifiable.is_a?(User) %>
            <%= link_to "View Profile",
              user_path(n.actor),
              class: "text-blue-600 underline ml-1" %>
          <% end %>
        </p>

        <p class="text-gray-400 text-xs mt-1">
          <%= time_ago_in_words(n.created_at) %> ago
        </p>
      </div>

    </div>
  <% end %>

</div>
