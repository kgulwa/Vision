<div class="max-w-4xl mx-auto p-6">
  <h1 class="text-3xl font-bold mb-6">Your Creator Insights</h1>

  <div class="grid grid-cols-2 gap-4 mb-8">
    <div class="p-4 bg-white shadow rounded-xl">
      <h3 class="text-sm text-gray-500">Total Views</h3>
      <p class="text-2xl font-bold"><%= @total_views %></p>
    </div>

    <div class="p-4 bg-white shadow rounded-xl">
      <h3 class="text-sm text-gray-500">Total Screen Time</h3>
      <p class="text-2xl font-bold"><%= (@total_screen_time / 60.0).round(1) %> minutes</p>
    </div>

    <div class="p-4 bg-white shadow rounded-xl">
      <h3 class="text-sm text-gray-500">Average Watch Time</h3>
      <p class="text-2xl font-bold"><%= @average_watch_time %> sec</p>
    </div>

    <div class="p-4 bg-white shadow rounded-xl">
      <h3 class="text-sm text-gray-500">Number of Video Pins</h3>
      <p class="text-2xl font-bold"><%= @video_pins.count %></p>
    </div>
  </div>

  <h2 class="text-xl font-semibold mb-4">Your Videos</h2>

  <div class="space-y-4">
    <% @video_pins.each do |pin| %>
      <% pin_views = @views.where(pin_id: pin.id) %>

      <div class="p-4 bg-white shadow rounded-xl">
        <h3 class="font-semibold text-lg"><%= pin.title %></h3>
        <p class="text-gray-600 text-sm"><%= pluralize(pin_views.count, "view") %></p>
        <p class="text-gray-600 text-sm">Total watch time: <%= pin_views.sum(:duration_seconds) %> sec</p>
      </div>
    <% end %>
  </div>
</div>
