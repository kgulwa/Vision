<div class="max-w-2xl mx-auto px-4 py-6">

  <!-- IMAGE -->
  <div class="flex justify-center">
    <%= image_tag @pin.image, class: "rounded-lg shadow-md max-w-full md:max-w-xl" %>
  </div>

  <!-- ACTION BUTTONS -->
  <div class="flex justify-center space-x-4 mt-6">

    <!-- LIKE -->
    <div class="flex items-center space-x-2 bg-red-100 px-4 py-2 rounded-full">
      <%= button_to pin_like_path(@pin), method: :post, class: "flex items-center space-x-2" do %>
        ‚ù§Ô∏è
        <span><%= @pin.likes.count %></span>
      <% end %>
    </div>

    <!-- COMMENT -->
    <div class="flex items-center space-x-2 bg-blue-100 px-4 py-2 rounded-full">
      <%= link_to "#comments_section", class: "flex items-center space-x-2" do %>
        üí¨
        <span><%= @pin.comments.count %></span>
      <% end %>
    </div>

    <!-- REPOST -->
    <div class="flex items-center space-x-2 bg-gray-100 px-4 py-2 rounded-full">
      <%= button_to pin_repost_path(@pin), method: :post, class: "flex items-center space-x-2" do %>
        üîÅ
        <span><%= @pin.reposts.count %></span>
      <% end %>
    </div>

  </div>

  <!-- COMMENTS SECTION -->
  <div id="comments_section" class="mt-10">
    <h2 class="text-lg font-semibold mb-3">Comments</h2>

    <!-- COMMENT FORM -->
    <div class="border rounded-lg p-4">
      <%= form_with(model: [@pin, Comment.new], local: true) do |form| %>
        <%= form.text_area :body,
          rows: 3,
          class: "w-full border rounded-lg p-2",
          placeholder: "Add a comment..." %>

        <div class="mt-3 flex justify-end">
          <%= form.submit "Post Comment",
            class: "bg-black text-white px-4 py-2 rounded-lg cursor-pointer" %>
        </div>
      <% end %>
    </div>

    <!-- LIST OF COMMENTS -->
    <div class="mt-6 space-y-4">
      <% @pin.comments.each do |comment| %>
        <div class="p-3 border rounded-lg bg-gray-50">
        <p><strong><%= comment.user.username %>:</strong> <%= comment.content %></p>
        </div>
      <% end %>
    </div>
  </div>
</div>
