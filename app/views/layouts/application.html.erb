<!DOCTYPE html> 
<html>
  <head>
    <title>Vision</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-visit-control" content="reload">

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>

    <!-- ESBuild output must be a module -->
    <%= javascript_include_tag "application", type: "module", defer: true %>
  </head>

  <body class="bg-white text-gray-900" autocomplete="off">
    <%= render 'layouts/header' %>

    <!-- Push content above the bottom nav -->
    <main class="pt-14 mb-24">
      <%= yield %>
    </main>

    <!-- BOTTOM NAVIGATION -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t shadow-md z-50">
      <div class="flex justify-around items-center py-3 text-gray-700 text-sm">

        <!-- HOME -->
        <%= link_to root_path, class: "flex flex-col items-center hover:text-blue-600" do %>
          <span class="text-xl">ğŸ </span>
          <span>Home</span>
        <% end %>

        <!-- EXPLORE -->
        <%= link_to pins_path, class: "flex flex-col items-center hover:text-blue-600" do %>
          <span class="text-xl">ğŸ§­</span>
          <span>Explore</span>
        <% end %>

        <!-- SEARCH -->
        <%= link_to user_search_path, class: "flex flex-col items-center hover:text-blue-600" do %>
          <span class="text-xl">ğŸ”</span>
          <span>Search</span>
        <% end %>

        <!-- CREATE -->
        <%= link_to new_pin_path, class: "flex flex-col items-center hover:text-blue-600" do %>
          <span class="text-xl">â•</span>
          <span>Create</span>
        <% end %>

        <!-- SAVED -->
        <%= link_to saved_path, class: "flex flex-col items-center hover:text-blue-600" do %>
          <span class="text-xl">ğŸ”–</span>
          <span>Saved</span>
        <% end %>

        <!-- NOTIFICATIONS -->
        <%= link_to notifications_path, class: "flex flex-col items-center hover:text-blue-600 relative" do %>
          <span class="text-xl">ğŸ””</span>
          <span>Alerts</span>

          <% if unread_notifications_count > 0 %>
            <span class="absolute top-0 right-3 bg-red-600 text-white text-xs rounded-full px-1">
              <%= unread_notifications_count %>
            </span>
          <% end %>
        <% end %>

      </div>
    </nav>

  </body>
</html>
