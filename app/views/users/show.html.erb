<div class="w-full max-w-3xl mx-auto mt-6">

  <!-- Pin Image -->
  <div class="mb-6">
    <%= image_tag @pin.image, class: "w-full rounded-lg shadow" %>
  </div>

  <!-- Actions Section -->
  <% if logged_in? && @pin.user != current_user %>
    <div class="flex items-center space-x-6 mb-6 justify-center">

      <!-- Like Button -->
      <% if current_user.liked?(@pin) %>
        <%= button_to pin_like_path(@pin), method: :delete,
            class: "flex items-center space-x-2 px-4 py-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200" do %>
          <svg class="w-5 h-5 fill-current" viewBox="0 0 20 20">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" />
          </svg>
          <span><%= @pin.likes.count %></span>
        <% end %>
      <% else %>
        <%= button_to pin_like_path(@pin), method: :post,
            class: "flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-full hover:bg-gray-100" do %>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 20 20">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
          </svg>
          <span><%= @pin.likes.count %></span>
        <% end %>
      <% end %>

      <!-- Comment Button -->
      <a href="#comments" class="flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-full hover:bg-gray-100">
        <svg class="w-5 h-5 text-blue-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd"
                d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7z"
                clip-rule="evenodd" />
        </svg>
        <span><%= @comments.count %></span>
      </a>

      <!-- Repost Button -->
      <% if current_user.reposted?(@pin) %>
        <%= button_to pin_repost_path(@pin), method: :delete,
            class: "flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-600 rounded-full hover:bg-green-200" do %>
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path fill="none" d="M0 0h24v24H0z"/>
            <path d="M17 1l4 4-4 4V6H7v4l-4-4 4-4v2h10V1zm-10 22l-4-4 4-4v2h10v-4l4 4-4 4v-2H7v4z"/>
          </svg>
          <span><%= @pin.reposts_count %></span>
        <% end %>
      <% else %>
        <%= button_to pin_repost_path(@pin), method: :post,
            class: "flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-full hover:bg-gray-100" do %>
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path fill="none" d="M0 0h24v24H0z"/>
            <path d="M17 1l4 4-4 4V6H7v4l-4-4 4-4v2h10V1zm-10 22l-4-4 4-4v2h10v-4l4 4-4 4v-2H7v4z"/>
          </svg>
          <span><%= @pin.reposts_count %></span>
        <% end %>
      <% end %>

    </div>
  <% end %>

  <!-- Comments Section (unchanged) -->
  ...
</div>
